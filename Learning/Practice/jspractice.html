<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>JS Practice</title>
</head>
<body>
  <h2>Random Number Array Generator (1-10)</h2>
  <div class="">
    <span>Enter number of elements: </span>
    <input type="number" id="elements" value=300>
  </div>

  <div>
    <button type="button" onclick="generate()" id="arrayButton">Generate Random Numbers</button>
  </div>

  <div id="array"></div>

  <div id="newArray"></div>

  <div id="chartContainer" style="height: 40%; width: 70%;"></div>
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

  <script type="text/javascript">

  document.getElementById("plotButton").disabled = true;
  var numbers = [];
  var numbers2 = [];

  function generate() {
    numbers = [];
    numbers2 = [];
    var numElements = document.getElementById("elements").value;
    for (var i = 0; i < numElements; i++) {
      numbers.push(Math.floor((Math.random() * 10) + 1));
    }
    for (var i = 1; i < 11; i++) {
      numbers2.push(getOccurrence(numbers,i));
    }
    document.getElementById("array").innerHTML = "Array: " + numbers;
    document.getElementById("newArray").innerHTML = "Frequency Array: " + numbers2;

    var chart = new CanvasJS.Chart("chartContainer", {
      animationEnabled: true,

      title:{
        text:"Frequency of Random Numbers"
      },
      axisX:{
        interval: 1
      },
      axisY2:{
        interlacedColor: "rgba(1,77,101,.2)",
        gridColor: "rgba(1,77,101,.1)",
        title: "Number of Occurrences"
      },
      data: [{
        type: "bar",
        name: "companies",
        axisYType: "secondary",
        color: "#014D65",
        dataPoints: [
          { y: numbers2[9], label: "10"},
          { y: numbers2[8], label: "9"},
          { y: numbers2[7], label: "8"},
          { y: numbers2[6], label: "7"},
          { y: numbers2[5], label: "6"},
          { y: numbers2[4], label: "5"},
          { y: numbers2[3], label: "4"},
          { y: numbers2[2], label: "3"},
          { y: numbers2[1], label: "2"},
          { y: numbers2[0], label: "1"},
        ]
      }]
    });
    document.getElementById("plot").innerHTML = chart.render();
  }

  function getOccurrence(array, value) {
    return array.filter((v) => (v === value)).length;
  }

</script>

</body>
</html>
